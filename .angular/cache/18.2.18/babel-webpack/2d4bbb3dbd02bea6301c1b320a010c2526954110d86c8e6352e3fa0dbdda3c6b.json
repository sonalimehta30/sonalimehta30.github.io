{"ast":null,"code":"import { ITEMS } from \"../../mock-data\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../image-div/image-div.component\";\nimport * as i3 from \"../filter-div/filter-div.component\";\nfunction ImagesAreaComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"app-image-div\", 8);\n    i0.ɵɵlistener(\"onAddToCart\", function ImagesAreaComponent_div_17_Template_app_image_div_onAddToCart_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addItemToCart($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"item\", item_r3);\n  }\n}\nexport let ImagesAreaComponent = /*#__PURE__*/(() => {\n  class ImagesAreaComponent {\n    constructor() {\n      this.items = ITEMS; // Fetch this with an API call later\n      this.tags_arr = [];\n      this.cart_items = [];\n    }\n    filterResults(tagName) {\n      this.items = ITEMS;\n      if (tagName != 'all' && tagName != 'clear') {\n        this.items = this.items.filter(v => v.tag.toLowerCase() == tagName.toLowerCase());\n      }\n    }\n    sortResults(order) {\n      this.items = ITEMS;\n      if (order == 'desc') {\n        this.items.sort((v, d) => parseInt(v.price) >= parseInt(d.price) ? -1 : 1);\n        return;\n      } else {\n        this.items.sort((v, d) => parseInt(v.price) < parseInt(d.price) ? -1 : 1);\n        return;\n      }\n    }\n    addItemToCart(cartItem) {\n      // let temp = {\n      //   'name': cartItem.name,\n      //   'vendor' : cartItem.vendor,\n      //   'price'  : cartItem.price,\n      //   'image_src' : cartItem.image_src,\n      //   'size' :cartItem.selectedSize?.value,\n      //   'id' : cartItem.selectedSize?.id,\n      //   'qty' : 1\n      // }\n      const temp = cartItem;\n      temp.qty = 1;\n      temp.sizeCode = cartItem.sizeCode;\n      this.cart_items.push(temp);\n      // save this in session later\n      localStorage.setItem('cart_items', JSON.stringify(this.cart_items));\n      console.log(this.cart_items);\n    }\n    ngOnInit() {\n      this.items = this.items.map(x => {\n        const compare_at_price = parseInt(x['compare_at_price']);\n        x.discount = Math.round((compare_at_price - parseInt(x['price'])) / compare_at_price) * 100;\n        this.tags_arr.push(x.tag);\n        return x;\n      });\n      this.tags_arr = [...new Set(this.tags_arr)];\n    }\n    static {\n      this.ɵfac = function ImagesAreaComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ImagesAreaComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ImagesAreaComponent,\n        selectors: [[\"app-images-area\"]],\n        inputs: {\n          cartItems: \"cartItems\"\n        },\n        outputs: {\n          item: \"item\",\n          tags: \"tags\"\n        },\n        decls: 18,\n        vars: 3,\n        consts: [[1, \"container-fluid\"], [2, \"font-size\", \"0.88em\"], [1, \"dim_text\"], [2, \"font-size\", \"1.5em\"], [3, \"filterSelected\", \"onSort\", \"tags\"], [1, \"row\", 2, \"margin-left\", \"10px\"], [\"class\", \"col-lg-2 col-md-4 col-sm-6 col-xs-12\", \"style\", \"margin-right: 3%\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-2\", \"col-md-4\", \"col-sm-6\", \"col-xs-12\", 2, \"margin-right\", \"3%\"], [3, \"onAddToCart\", \"item\"]],\n        template: function ImagesAreaComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"main\")(1, \"section\", 0)(2, \"p\", 1)(3, \"span\", 2);\n            i0.ɵɵtext(4, \" Home / Clothing / Men's Clothing / \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"b\");\n            i0.ɵɵtext(6, \" All Men's Clothing \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(7, \"p\");\n            i0.ɵɵelementStart(8, \"p\", 3)(9, \"b\");\n            i0.ɵɵtext(10, \" All Products \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"span\", 2);\n            i0.ɵɵtext(12);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(13, \"app-filter-div\", 4);\n            i0.ɵɵlistener(\"filterSelected\", function ImagesAreaComponent_Template_app_filter_div_filterSelected_13_listener($event) {\n              return ctx.filterResults($event);\n            })(\"onSort\", function ImagesAreaComponent_Template_app_filter_div_onSort_13_listener($event) {\n              return ctx.sortResults($event);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(14, \"br\");\n            i0.ɵɵelementStart(15, \"section\", 0)(16, \"div\", 5);\n            i0.ɵɵtemplate(17, ImagesAreaComponent_div_17_Template, 2, 1, \"div\", 6);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(12);\n            i0.ɵɵtextInterpolate1(\" (\", ctx.items.length, \") \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"tags\", ctx.tags_arr);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngForOf\", ctx.items);\n          }\n        },\n        dependencies: [i1.NgForOf, i2.ImageDivComponent, i3.FilterDivComponent],\n        changeDetection: 0\n      });\n    }\n  }\n  return ImagesAreaComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}